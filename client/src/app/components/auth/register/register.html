<app-auth>
  <div class="register">
    <div class="register__header">
      <h1 class="register__title">Register</h1>
      <p class="register__subtitle">Access Universihub and manage your majors</p>
    </div>

    <form [formGroup]="registerForm" class="register__form">
      <div class="register__form-wrapper">
        <div class="register__form-input-wrapper">
          <label for="name" class="register__label">Name *</label>
          <input id="name" type="text" formControlName="name" placeholder="Your Name" required
            class="register__input" />
        </div>

        <div class="register__form-input-wrapper">
          <label for="birth_date" class="register__label">Birth date *</label>
          <div class="datepicker-wrapper">
            <input matInput [matDatepicker]="picker" placeholder="Choose a date" class="register__input"
              formControlName="birth_date" (change)="onDateChange($event)" />
            <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </div>
          <div *ngIf="registerForm.get('birth_date')?.hasError('required') && registerForm.get('birth_date')?.touched"
            class="error-message">
            Birth date is required.
          </div>
        </div>
      </div>

      <div class="register__form-wrapper">
        <div class="register__form-input-wrapper">
          <label for="email" class="register__label">Email *</label>
          <input id="email" type="email" formControlName="email" placeholder="your@email.com" required
            class="register__input" />
          <div *ngIf="registerForm.get('email')?.hasError('required') && registerForm.get('email')?.touched"
            class="error-message">
            Email is required.
          </div>
        </div>
      </div>

      <div class="register__form-wrapper">
        <div class="register__form-input-wrapper">
          <label for="address" class="register__label">Address</label>
          <input id="address" type="text" formControlName="address" placeholder="Your Address"
            class="register__input" />
        </div>
      </div>

      <div class="register__form-wrapper">
        <div class="register__form-input-wrapper">
          <label for="password" class="register__label">Password *</label>
          <input id="password" type="password" formControlName="password" placeholder="••••••••" required
            class="register__input" />
          <div *ngIf="registerForm.get('password')?.hasError('required') && registerForm.get('password')?.touched"
            class="error-message">
            Password is required.
          </div>
        </div>

        <div class="register__form-input-wrapper">
          <label for="confirm_password" class="register__label">Confirm Password *</label>
          <input id="confirm_password" type="password" formControlName="confirm_password" placeholder="••••••••"
            required class="register__input" />
          <div
            *ngIf="registerForm.get('confirm_password')?.hasError('required') && registerForm.get('confirm_password')?.touched"
            class="error-message">
            Confirm password is required.
          </div>
        </div>
      </div>

      <div class="register__form-wrapper">
        <div class="register__form-input-wrapper">
          <label for="major" class="register__label">Majors *</label>
          <select id="major" class="register__input" formControlName="major_id" required>
            <option *ngFor="let major of majors; trackBy: trackByMajorId" [value]="major.id">{{ major.name }}
            </option>
          </select>
          <div *ngIf="registerForm.get('major_id')?.hasError('required') && registerForm.get('major_id')?.touched"
            class="error-message">
            Major is required.
          </div>
        </div>
      </div>

      <div class="register__form-button-wrapper">
        <button type="submit" [disabled]="!registerForm.valid" (click)="submit()" class="register__button">
          Sign Up
        </button>
      </div>

      <div class="register__form-register-link">
        <span>Already have an account?</span>
        <a (click)="navigateToLogin()" class="register__register-link-text cpointer">Sign In</a>
      </div>
    </form>
  </div>
</app-auth>